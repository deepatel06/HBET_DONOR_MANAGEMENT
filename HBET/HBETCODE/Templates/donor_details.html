{% extends 'main.html' %} 
{% block title %} View Donor details {% endblock title %}


{% block Style %}
    <style>
        .div_btn_and_head{
            display: flex;
        }
        input{
            border: none;
        }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
{% endblock Style %}
    

{% block content %}
<div class="form-container">
  {% for message in messages %} <div class="animate__animated
  animate__bounceInUp" id="" style="color:#fff; background-color: #0322d3;
  width:25%; margin-top:4px; margin-left:290px; border-radius:30px;
  text-align:center; padding:10px; >
  <a class="close" href="#" data-dismiss="alert"></a>
  {{ message }}
</div>
{% endfor %}
<div class="div_btn_and_head">
    <div class="buttons">
        <button style="margin-left : 10px; margin-top: 10px; margin-bottom: 10px" class="profile-button" onclick="redirect()">Edit</button>
        <button id="exportBtn" style="margin-left : 10px; margin-top: 10px; margin-bottom: 10px" class="profile-button"><a href="/download_donor_details" style="color:white; text-decoration:none;">Export to CSV</a></button>
    </div>
    <h1 style="margin-left: 492px; margin-top: 10px;">Donor Details</h1>
</div>
    <div style="overflow-x: auto;">
        <table class="table" id="do_table" style="width: 100vh; font-size: 1em;">
            <thead>
                <tr>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Full name</th>
                    <th scope="col">Email</th>
                    <th scope="col">DOB</th>
                    <th scope="col">Date of marrage</th>
                    <th scope="col">spouse Name</th>
                    <th scope="col">Address 1</th>
                    <th scope="col">Address 2</th>
                    <th scope="col">Date of registration</th>
                    <th scope="col">City</th>
                    <th scope="col">State</th>
                    <th scope="col">Pincode</th>
                    <th scope="col">Mobile 1</th>
                    <th scope="col">Mobile 2</th>
                    <th scope="col">Aadhar card</th>
                    <th scope="col">Pan card</th>
                </tr>
            </thead>
            <tbody>
                {% for value in donor_details_array %}
                <tr>
                    <td> {{ value.first_name }}</td>
                    <td> {{ value.last_name }}</td>
                    <td> {{ value.full_name }}</td>
                    <td> {{ value.email }}</td>
                    <td> {{ value.dob }}</td>
                    <td> {{ value.dom }}</td>
                    <td> {{ value.spouse_name }}</td>
                    <td> {{ value.address1 }}</td>
                    <td> {{ value.address2 }}</td>
                    <td> {{ value.dor }}</td>
                    <td> {{ value.city }}</td>
                    <td> {{ value.state }}</td>
                    <td> {{ value.pin_code }}</td>
                    <td> {{ value.mobile1 }}</td>
                    <td> {{ value.mobile2 }}</td>
                    <td> {{ value.aadhar_card }}</td>
                    <td> {{ value.pan_card }}</td>
                </tr>
                {% endfor %} 
            </tbody>
        </table>
    </div>
    

{% endblock content %}


{% block script %}
    <script src = "//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    {% load static %}
    <script src = "{% static 'datatables/1.10.22/js/jquery.dataTables.min.js' %}"></script>
    <script>
        $(document).ready(function() {
            $('#do_table').DataTable({
                scrollY: '500px',
                scrollX: '11px',
                paging: false,    
            });
        });
        function redirect() {
            window.location.href = "/update_donor_details_page";
        }
    </script>
{% endblock script %}
    